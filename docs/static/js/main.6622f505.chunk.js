(window["webpackJsonpdev-editor"]=window["webpackJsonpdev-editor"]||[]).push([[0],{10:function(e,t,n){e.exports={container:"home_container__Xm6f-",banner:"home_banner__3fV7u",contentContainer:"home_contentContainer__3htk6",editor:"home_editor__c3QrC",widgetContainers:"home_widgetContainers__3RKmK",shortCuts:"home_shortCuts__1PZXi",publishBox:"home_publishBox__kBFiH",toolBox:"home_toolBox__2Khvd",tool:"home_tool__3O97n"}},12:function(e,t,n){e.exports={editorContainer:"editor_editorContainer__28KnZ",editor:"editor_editor__2P-7D",inlineToolbar:"editor_inlineToolbar__d4jvG",placeholderMenu:"editor_placeholderMenu__34Ohc",linkContainer:"editor_linkContainer__2_-iC",linkBox:"editor_linkBox__3bLdD"}},190:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(22),i=n.n(a),c=(n(86),n(7)),l=n(53),u=n.n(l);function s(){return o.a.createElement("div",{className:u.a.banner},o.a.createElement("h4",{className:u.a.heading},"Dev Editor"),o.a.createElement("div",{className:"content"},"Editor for easily writing dev.to blogs.",o.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/saravanan10393/dev-editor"},"Fork in Github")))}var d=n(3),f=n(27),m=n(9),v=Object(m.isKeyHotkey)("mod+b"),p=Object(m.isKeyHotkey)("mod+i"),h=Object(m.isKeyHotkey)("mod+u"),k=Object(m.isKeyHotkey)("mod+l");function b(e){var t=e.editor,n=t.isMarkActive("bold")?{color:"red"}:{};return o.a.createElement("button",{style:n,onClick:function(){t.bold()}},"B")}function g(e){var t=e.editor,n=t.isMarkActive("italic")?{color:"red"}:{};return o.a.createElement("button",{style:n,onClick:function(){t.italic()}},"I")}var y=Object(m.isKeyHotkey)("mod+'");var E=Object(m.isKeyHotkey)("mod+1"),_=Object(m.isKeyHotkey)("mod+2"),w=Object(m.isKeyHotkey)("mod+p");function x(e){o.a.useEffect(function(){function t(t){"Escape"===t.key&&e(t)}return document.addEventListener("keydown",t),function(){return document.removeEventListener("keypress",t)}},[e])}var C=n(15),B=n.n(C),O=n(35);function j(e){var t=e.onEnter,n=void 0===t?function(){}:t,r=Object(O.a)(e,["onEnter"]),a=o.a.useRef();return o.a.useEffect(function(){var e=a.current,t=function(e){"Enter"===e.key&&n(e)};return e.addEventListener("keydown",t),function(){return e.removeEventListener("keydown",t)}},[n]),o.a.createElement("input",Object.assign({ref:a},r))}var N=n(37),T=n.n(N),K=o.a.forwardRef(function(e,t){var n=e.children,r=(e.clickToClose,e.shouldClose),a=void 0===r?function(){return!0}:r,l=e.onClose,u=void 0===l?function(){}:l,s=e.onOpen,d=void 0===s?function(){}:s,f=e.className,m=void 0===f?"":f,v=e.autoOpen,p=void 0===v||v,h=Object(O.a)(e,["children","clickToClose","shouldClose","onClose","onOpen","className","autoOpen"]),k=o.a.useState(p),b=Object(c.a)(k,2),g=b[0],y=b[1],E=o.a.useCallback(function(){y(!0),d()},[d]),_=o.a.useCallback(function(e){e.stopPropagation(),a()&&y(!1),u()},[u,a]);return o.a.useImperativeHandle(t,function(){return{open:E,close:_}},[E,_]),o.a.useEffect(function(){E()},[E]),x(function(e){_(e)}),g&&i.a.createPortal(o.a.createElement("div",Object.assign({className:"".concat(T.a.container," ").concat(m)},h),o.a.createElement("div",{className:T.a.portal,onClick:_}),o.a.createElement("div",{className:T.a.contentHolder},n)),document.body)});function S(e){var t=e.title,n=void 0===t?"":t,r=e.onDone,a=void 0===r?function(){}:r,i=o.a.useState(""),l=Object(c.a)(i,2),u=l[0],s=l[1],d=o.a.useState(""),f=Object(c.a)(d,2),m=f[0],v=f[1];return o.a.createElement(K,{onClose:a},o.a.createElement("div",{className:"card"},o.a.createElement("h2",null,n),o.a.createElement(j,{value:u,onChange:function(e){var t=e.target.value;B()(t)?s(t):v("Invalid url")}}),m&&o.a.createElement("p",{className:"error"},m),o.a.createElement("button",{disabled:Boolean(m),onClick:function(){return a(u)}},"Done")))}function M(e){var t=e.editor,n=e.node,r=e.attributes,a=e.isSelected,i=e.isFocused;var c=o.a.useCallback(function(e){if(e.match(/https:\/\/([a-z]*\.)?youtube.com/)){var t=function(e){for(var t={},n=(e||window.location.search).slice(1).split("&"),r=function(e){return decodeURIComponent(e.replace(/\+/g," "))},o=0;o<n.length;++o){var a=n[o].split("=");a.length>1&&(t[r(a[0])]=r(a[1]))}return t}("?".concat(e.split("?")[1])).v;return{url:"https://www.youtube.com/embed/".concat(t,"?wmode=opaque"),provider:"youtube",id:t}}if(e.match(/https:\/\/([a-z]*\.)?dailymotion.com/)){var n=e.split("/").pop();return{url:"https://www.dailymotion.com/embed/video/".concat(n),provider:"dailymotion",id:n}}if(e.match(/https:\/\/([a-z]*\.)?vimeo.com/)){var r=e.split("/").pop();return{url:"https://player.vimeo.com/video/".concat(r),provider:"vimeo",id:r}}return{url:e,isNormalVideo:!0}},[]);o.a.useEffect(function(){var e=c(n.data.get("src"));t.setNodeByKey(n.key,{type:"video",data:Object.assign(n.data.toJS(),{id:e.id,provider:e.provider})})},[]);var l={maxWidth:"100%",height:"auto",textAlign:"center"};l=a||i?Object.assign(l,{border:"2px solid red"}):l;var u=c(n.data.get("src"));return o.a.createElement("div",Object.assign({style:l},r),u.isNormalVideo?o.a.createElement("video",{controls:!0},o.a.createElement("source",{src:u.url})):o.a.createElement("iframe",{title:"test url",src:u.url,allowFullScreen:!0,frameBorder:0}))}var D=n(12),H=n.n(D);function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onKeyDown:function(t,n,r){return"Enter"!==t.key?r():e.shift&&!1===t.shiftKey?r():n.insertText("\n")}}}function I(e){var t=e.editor,n=t.isLink(),r=o.a.useState(!1),a=Object(c.a)(r,2),i=a[0],l=a[1];function u(){l(!i)}function s(e){console.log("typed url ",e.target.value);var r=e.target.value;!n&&r?t.toggleLink({url:r}):n&&!r?t.toggleLink():n&&t.updateLink({url:r}),u()}return o.a.createElement("div",{className:H.a.linkContainer},o.a.createElement("button",{onClick:u},"Link"),i&&o.a.createElement("div",{className:H.a.linkBox},o.a.createElement(j,{onEnter:s,defaultValue:n?n.data.get("url"):"",onBlur:s,placeholder:"Paste url"})))}var q=function(){var e=window.getSelection();if(!e.rangeCount)return null;var t=e.getRangeAt(0);if(t.collapsed)return null;var n=t.getBoundingClientRect(),r=n.top,o=n.right,a=n.bottom,i=n.left;return 0===r&&0===o&&0===a&&0===i?null:n};function A(e){var t=e.editor,n=o.a.useRef();return o.a.useEffect(function(){var e=null;return t.value.selection.isExpanded?e=requestAnimationFrame(function(){var e=q();if(e){var t=e.left+e.width/2,r=n.current.getBoundingClientRect(),o=e.top-(r.height+10),a=t-r.width/2;n.current&&n.current.setAttribute("style","left:".concat(a,"px; top: ").concat(o,"px; opacity:1;"))}}):n.current.setAttribute("style","left:-999px; top: 0px; opacity:0;"),function(){return cancelAnimationFrame(e)}}),x(o.a.useCallback(function(){n.current.setAttribute("style","left:-999px; top: 0px; opacity:0;")},[])),o.a.createElement("div",{ref:n,className:H.a.inlineToolbar},o.a.createElement(b,{editor:t}),o.a.createElement(g,{editor:t}),o.a.createElement(I,{editor:t}))}var F=Object(m.isKeyHotkey)("mod+shift+c");var R={bold:function(e){return"**".concat(e,"**")},italic:function(e){return"_".concat(e,"_")},strikeThrough:function(e){return"~".concat(e,"~")}},V={paragraph:function(e){return e+"\n"},h1:function(e){return"# "+e+"\n"},h2:function(e){return"##"+e+"\n"},blockquote:function(e){return">"+e+"\n"},image:function(e,t){return"![".concat(t.data.alt,"](").concat(t.data.src,") \n")},code:function(e){return"```\n"+e+"\n```\n"},video:function(e,t){return"{% ".concat(t.data.provider," ").concat(t.data.id," %} \n")}};function P(e){var t="",n=!0,r=!1,o=void 0;try{for(var a,i=e.nodes[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=a.value;t+="inline"===c.object?J(c):W(c)}}catch(l){r=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return V[e.type](t,e)}function J(e){var t="";if("link"===e.type){var n=e.nodes.map(W).join("");t="[".concat(n,"](").concat(e.data.url,")")}return t}function W(e){var t=e.text,n=!0,r=!1,o=void 0;try{for(var a,i=(e.marks||[])[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=a.value;t=R[c.type](t)}}catch(l){r=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t}var z={};function G(e){var t=o.a.useCallback(function(t){null===t?delete z[e]:z[e]=t},[e]);return[o.a.useCallback(function(){return z[e]},[e]),t]}var Q={object:"value",document:{object:"document",nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",text:""}]}]}},X=o.a.forwardRef(function(e,t){var n=e.placeholder,a=Object(r.useState)(d.n.fromJSON(Q)),i=Object(c.a)(a,2),l=i[0],u=i[1],s=G("editor"),m=Object(c.a)(s,2),b=(m[0],m[1]),g=o.a.useRef(),x=o.a.useMemo(function(){return[{queries:{isMarkActive:function(e,t){return e.value.activeMarks.some(function(e){return e.type===t})},isBlockOfType:function(e,t){return e.value.blocks.some(function(e){return e.type===t})},hasSelection:function(e){return e.value.selection.isExpanded},getCurrentBlockType:function(e){return e.value.startBlock?e.value.startBlock.type:""}}},{onKeyDown:function(e,t,n){if(v(e))console.log("key down event is calling",e.key),t.bold();else if(p(e))t.italic();else if(h(e))t.underline();else{if(!k(e))return n();e.preventDefault(),t.strikeThrough()}},commands:{bold:function(e){e.toggleMark("bold")},italic:function(e){e.toggleMark("italic")},underline:function(e){e.toggleMark("underline")},strikeThrough:function(e){e.toggleMark("strikeThrough")},color:function(e,t){e.replaceMark({type:"color"},{type:"color",data:{color:t}})}},renderMark:function(e,t,n){var r=e.mark,a=e.children,i=e.attributes;switch(r.type){case"bold":return o.a.createElement("b",i,a);case"italic":return o.a.createElement("em",i,a);case"underline":return o.a.createElement("u",i,a);case"strikeThrough":return o.a.createElement("strike",i,a);default:return n()}}},{onKeyDown:function(e,t,n){if("Enter"===e.key&&!1===e.shiftKey&&"blockquote"===t.getCurrentBlockType())t.insertBlock("paragraph");else{if(!y(e))return n();e.preventDefault(),t.focus().blockquote()}},commands:{blockquote:function(e){"blockquote"===e.getCurrentBlockType()?e.setBlocks("paragraph"):e.setBlocks("blockquote")}},renderBlock:function(e,t,n){var r=e.node,a=e.children,i=e.attributes;return"blockquote"===r.type?o.a.createElement("blockquote",Object.assign({},i,{style:{"border-left":"0.3rem solid #dfe2e5",color:"#6a737d",padding:"0.5rem 1rem"}}),a):n()}},{onKeyDown:function(e,t,n){E(e)?(e.preventDefault(),t.title("h1")):_(e)?(e.preventDefault(),t.title("h2")):w(e)?(e.preventDefault(),t.title("paragraph")):n()},commands:{title:function(e,t){e.getCurrentBlockType()===t?e.focus().setBlocks("paragraph"):e.focus().setBlocks(t)}},renderBlock:function(e,t,n){var r=e.node,a=e.children,i=e.attributes;switch(r.type){case"h1":return o.a.createElement("h1",i,a);case"h2":return o.a.createElement("h2",i,a);default:return n()}}},{onPaste:function(e,t,n){var r=(e.clipboardData||window.clipboardData).getData("text");if(!B()(r))return n();t.insertText(r).moveAnchorTo(t.value.selection.anchor.offset-r.length).moveEndTo(t.value.selection.focus.offset).toggleLink(r).moveToEnd()},commands:{toggleLink:function(e,t){e.isLink()?e.unwrapInline("link"):t&&B()(t.url)&&e.wrapInline({type:"link",data:{url:t.url}})},updateLink:function(e,t){e.isLink()&&e.setInlines({data:{url:t.url}})}},queries:{isLink:function(e){return e.value.inlines.find(function(e){return"link"===e.type})}},renderInline:function(e,t,n){var r=e.node,a=e.attributes,i=e.children;return"link"===r.type?o.a.createElement("a",Object.assign({style:{color:"red"},href:r.data.get("url")},a),i):n()}},L({shift:!0}),{schema:{blocks:{image:{isVoid:!0}}},onKeyDown:function(e,t,n){if("Enter"===e.key&&t.isBlockOfType("image"))return t.insertBlock("paragraph").focus();n()},commands:{insertImage:function(e,t){t&&B()(t.src)&&e.insertBlock({type:"image",data:{alt:t.alt,src:t.src}}).focus()}},renderBlock:function(e,t,n){var r=e.node,a=e.attributes,i=e.isSelected,c=e.isFocused;if("image"===r.type){var l={maxWidth:"100%",height:"auto"};return l=i||c?Object.assign(l,{border:"2px solid red"}):l,o.a.createElement("img",Object.assign({style:l,alt:r.data.get("alt"),src:r.data.get("src")},a))}return n()}},{schema:{blocks:{video:{isVoid:!0}}},onKeyDown:function(e,t,n){if("Enter"===e.key&&t.isBlockOfType("video"))return t.insertBlock("paragraph").focus();n()},commands:{insertVideo:function(e,t){t&&B()(t.src)&&e.insertBlock({type:"video",data:{alt:t.alt,src:t.src}}).focus()}},renderBlock:function(e,t,n){return"video"===e.node.type?o.a.createElement(M,Object.assign({},e,{editor:t})):n()}},{renderEditor:function(e,t,n){var r=n();return o.a.createElement(o.a.Fragment,null,o.a.createElement(A,{editor:t}),r)}},{onKeyDown:function(e,t,n){if("Enter"===e.key&&!1===e.metaKey&&t.isBlockOfType("code"))t.insertText("\n");else if("Enter"===e.key&&!0===e.metaKey&&t.isBlockOfType("code"))t.insertBlock("paragraph").focus();else{if(!F(e))return n();e.preventDefault(),t.focus().code()}},commands:{code:function(e,t){e.isBlockOfType("code")?e.setBlocks({type:"paragraph",data:{}}).focus():e.insertBlock("code").focus()}},renderBlock:function(e,t,n){var r=e.node,a=e.attributes,i=e.children;return"code"===r.type?o.a.createElement("code",Object.assign({style:{fontFamily:"monospace",fontSize:"12px",padding:"0.5rem 1rem",background:"#ddd",display:"block"}},a),i):n()}}]},[]);var C=o.a.useMemo(function(){var e={markdown:function(){return function(e){var t="",n=!0,r=!1,o=void 0;try{for(var a,i=e.document.nodes[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){t+=P(a.value)}}catch(c){r=!0,o=c}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return console.log("markdown string",t),t}(l.toJS())},insertImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";g.current.focus().insertImage({src:e,alt:t})},insertVideo:function(e){g.current.focus().insertVideo({src:e})},h1:function(){g.current.focus().title("h1")},h2:function(){g.current.focus().title("h2")},quote:function(){g.current.focus().blockquote()},code:function(){g.current.focus().code()},insertEmbedText:function(e){g.current.focus().insertBlock("paragraph").focus().insertText(e)}};return console.log("setting editor in cache"),b(e),e},[l,g,b]);return o.a.useImperativeHandle(t,function(){return C}),o.a.createElement(f.a,{ref:g,placeholder:n,className:H.a.editor,onChange:function(e){u(e.value)},value:l,plugins:x})}),Z=n(10),U=n.n(Z);function $(){var e=G("editor"),t=Object(c.a)(e,1)[0],n=o.a.useState(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],l=o.a.useState(""),u=Object(c.a)(l,2),s=u[0],d=u[1],f="image",m="video",v=function(e){d(e),i(!0)};return o.a.createElement("div",{className:"card ".concat(U.a.toolBox)},o.a.createElement("div",{title:"Meta+1",className:U.a.tool,onClick:function(){return t().h1()}},"H1"),o.a.createElement("div",{title:"Meta+2",className:U.a.tool,onClick:function(){return t().h2()}},"H2"),o.a.createElement("div",{title:"Meta+'",className:U.a.tool,onClick:function(){return t().quote()}},"Quote"),o.a.createElement("div",{title:"Meta+Shift+c",className:U.a.tool,onClick:function(){return t().code()}},"Code"),o.a.createElement("div",{title:"Meta+Shift+i",className:U.a.tool,onClick:function(){return v(f)}},"Img"),o.a.createElement("div",{title:"Meta+Shift+v",className:U.a.tool,onClick:function(){return v(m)}},"Video"),[{id:"tag",label:"Tag",text:"{% tag <user> %}"},{id:"github",label:"Github",text:"{% github <url> %}"},{id:"gist",label:"Gists",text:"{% gist <url> %}"},{id:"glitch",label:"Glitch",text:"{% glitch <glitch_id> %}"},{id:"codepen",label:"Codepen",text:"{% codepen <url> %}"},{id:"codesandbox",label:"Code sandbox",text:"{% codesandbox <box_id> %}"},{id:"jsfiddle",label:"Js fiddle",text:"{% jsfiddle <fiddle_url> result,html,css %}"},{id:"medium",label:"Medium",text:"{% medium <url> %}"},{id:"twitter",label:"Twitter",text:"{% twitter <tweet_id> %}"},{id:"instagram",label:"Instagram",text:"{% instagram <insta_id> %}"},{id:"slideshare",label:"Slide share",text:"{% slideshare <slide_id> %}"}].map(function(e){return o.a.createElement("div",{title:e.id,className:U.a.tool,onClick:function(){return function(e){t().insertEmbedText(e.text)}(e)}},e.label)}),a&&o.a.createElement(S,{title:"Enter ".concat(s," url"),onDone:function(e){if(!e)return i(!1);switch(s){case f:t().insertImage(e);break;case m:t().insertVideo(e)}i(!1)}}))}function Y(){var e=o.a.useRef();return o.a.createElement("div",{className:U.a.container},o.a.createElement(s,null),o.a.createElement("div",{className:U.a.contentContainer},o.a.createElement("div",{className:U.a.widgetContainers},o.a.createElement($,null)),o.a.createElement("div",{className:U.a.editor},o.a.createElement(X,{ref:e,placeholder:"Write your thoughts..."})),o.a.createElement("div",{className:U.a.widgetContainers},o.a.createElement(ee,{getMarkdown:function(){return e.current.markdown()}}))))}function ee(e){var t=e.getMarkdown,n=o.a.useState(!1),r=Object(c.a)(n,2),a=r[0],i=r[1];return o.a.createElement("div",{className:"card ".concat(U.a.publishBox)},o.a.createElement("button",{onClick:function(){var e=t(),n=document.createElement("textarea");n.value=e,n.setAttribute("style","position:fixed; top: '0px';"),document.body.appendChild(n),n.select(),document.execCommand("copy"),i(!0),setTimeout(function(){i(!1)},2e3)}},a?"copied to clipboard":"copy as markdown"))}var te=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,t,n){e.exports={container:"overlay_container__v_0zg",portal:"overlay_portal__3pynQ",contentHolder:"overlay_contentHolder__1PFPL"}},53:function(e,t,n){e.exports={banner:"banner_banner__328vH",heading:"banner_heading__3f1uW"}},81:function(e,t,n){e.exports=n(190)},86:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.6622f505.chunk.js.map